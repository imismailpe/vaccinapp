(this.webpackJsonpvaccinapp=this.webpackJsonpvaccinapp||[]).push([[0],{20:function(e,t,c){},21:function(e,t,c){},42:function(e,t,c){"use strict";c.r(t);var a=c(2),i=c.n(a),s=c(14),n=c.n(s),r=(c(20),c(3)),d=(c(21),c(5)),l=c.n(d),o=c(15),j=c.n(o),b=c(0),v="https://cdn-api.co-vin.in/api/v2";var u=function(){var e=Object(a.useState)([]),t=Object(r.a)(e,2),c=t[0],i=t[1],s=Object(a.useState)([]),n=Object(r.a)(s,2),d=n[0],o=n[1],u=Object(a.useState)(""),h=Object(r.a)(u,2),m=h[0],O=h[1],p=Object(a.useState)(!1),f=Object(r.a)(p,2),x=f[0],N=f[1],g=Object(a.useState)(!1),_=Object(r.a)(g,2),y=_[0],C=_[1],D=Object(a.useState)(0),S=Object(r.a)(D,2);S[0],S[1],Object(a.useEffect)((function(){C(!0),l.a.get("".concat(v).concat("/admin/location/districts/").concat("17")).then((function(e){i(e.data.districts||[]),C(!1),e.data.districts&&e.data.districts.length>0&&O(e.data.districts[0].district_id)})).catch((function(e){alert("error:",e),C(!1)}))}),[]),Object(a.useEffect)((function(){F()}),[m]);var F=function(){N(!0);var e=j()().format("DD-MM-YYYY");m&&l.a.get("".concat(v).concat("/appointment/sessions/public/calendarByDistrict?&district_id=").concat(m,"&date=").concat(e)).then((function(e){o(e.data.centers),N(!1)})).catch((function(e){alert("error:",e),N(!1)}))};return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)("div",{children:"Select your district to see Covid vaccine slots"}),Object(b.jsx)("div",{className:"distList",children:!0===y?"Loading...":Object(b.jsx)(b.Fragment,{children:c.length>0?Object(b.jsx)("div",{className:"",children:c.map((function(e){return Object(b.jsx)("div",{className:e.district_id===m?"chatItem selectedDist":"chatItem",onClick:function(){return O(e.district_id)},children:e.district_name},e.district_id)}))}):"No Districts available"})}),Object(b.jsx)("div",{className:"chatWindow",children:!0===x?"Loading...":d.length>0?d.map((function(e){return Object(b.jsxs)("div",{className:"messageInBubble",children:[Object(b.jsxs)("div",{className:"centerTitle",children:[Object(b.jsxs)("div",{className:"centerName",children:[e.name,"-",e.block_name]}),Object(b.jsx)("div",{className:"Free"===e.fee_type?"greenText centerFee":"redText centerFee",children:e.fee_type})]}),Object(b.jsxs)("div",{className:"centerAddress",children:[e.address," - ",e.pincode]}),e.sessions.length>0&&e.sessions.map((function(e){return Object(b.jsxs)("div",{className:e.available_capacity?"availableBG sessionContainer":"notAvailableBG sessionContainer",children:[Object(b.jsx)("div",{className:"vaccineName",children:e.vaccine}),Object(b.jsx)("div",{className:"vaccineDate",children:e.date}),Object(b.jsxs)("div",{className:"vaccineCapacity",children:["Available capacity: ",e.available_capacity,", Dose1: ",e.available_capacity_dose1,", Dose2: ",e.available_capacity_dose2]}),Object(b.jsx)("div",{className:"slotContainer",children:e.slots.map((function(e){return Object(b.jsx)("div",{className:"slotTime",children:e},e)}))})]},e.session_id)}))]},e.center_id)})):"No Centers are available for the selected district. Refresh after some time."})]})},h=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,43)).then((function(t){var c=t.getCLS,a=t.getFID,i=t.getFCP,s=t.getLCP,n=t.getTTFB;c(e),a(e),i(e),s(e),n(e)}))};n.a.render(Object(b.jsx)(i.a.StrictMode,{children:Object(b.jsx)(u,{})}),document.getElementById("root")),h()}},[[42,1,2]]]);
//# sourceMappingURL=main.e72a8ae0.chunk.js.map