(this.webpackJsonpvaccinapp=this.webpackJsonpvaccinapp||[]).push([[0],{20:function(e,t,c){},21:function(e,t,c){},42:function(e,t,c){"use strict";c.r(t);var i=c(2),a=c.n(i),s=c(14),n=c.n(s),r=(c(20),c(3)),d=(c(21),c(5)),l=c.n(d),o=c(15),j=c.n(o),u=c(0),b="https://cdn-api.co-vin.in/api/v2";var m=function(){var e=Object(i.useState)([]),t=Object(r.a)(e,2),c=t[0],a=t[1],s=Object(i.useState)([]),n=Object(r.a)(s,2),d=n[0],o=n[1],m=Object(i.useState)(""),v=Object(r.a)(m,2),h=v[0],O=v[1],f=Object(i.useRef)(h);f.current=h;var p,x=Object(i.useState)(!1),N=Object(r.a)(x,2),g=N[0],_=N[1],y=Object(i.useState)(!1),C=Object(r.a)(y,2),D=C[0],T=C[1],F=1e4;Object(i.useEffect)((function(){return T(!0),l.a.get("".concat(b).concat("/admin/location/districts/").concat("17")).then((function(e){a(e.data.districts||[]),T(!1),e.data.districts&&e.data.districts.length>0&&O(e.data.districts[0].district_id)})).catch((function(e){alert("error:",e),T(!1)})),p=setTimeout((function e(){clearTimeout(p),S(),p=setTimeout(e,F)}),F),function(){return clearTimeout(p)}}),[]),Object(i.useEffect)((function(){S()}),[h]);var S=function(){_(!0);var e=j()().format("DD-MM-YYYY");f.current&&l.a.get("".concat(b).concat("/appointment/sessions/public/calendarByDistrict?&district_id=").concat(f.current,"&date=").concat(e)).then((function(e){o(e.data.centers),_(!1)})).catch((function(e){alert("error:",e),_(!1)}))};return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)("div",{children:"Select your district to see Covid vaccine slots"}),Object(u.jsx)("div",{className:"distList",children:!0===D?"Loading...":Object(u.jsx)(u.Fragment,{children:c.length>0?Object(u.jsx)("div",{className:"",children:c.map((function(e){return Object(u.jsx)("div",{className:e.district_id===h?"chatItem selectedDist":"chatItem",onClick:function(){return O(e.district_id)},children:e.district_name},e.district_id)}))}):"No Districts available"})}),Object(u.jsxs)("div",{children:["Data will auto refresh in every ",10," seconds."]}),Object(u.jsx)("div",{className:"chatWindow",children:!0===g?"Loading...":d.length>0?d.map((function(e){return Object(u.jsxs)("div",{className:"messageInBubble",children:[Object(u.jsxs)("div",{className:"centerTitle",children:[Object(u.jsxs)("div",{className:"centerName",children:[e.name,"-",e.block_name]}),Object(u.jsx)("div",{className:"Free"===e.fee_type?"greenText centerFee":"redText centerFee",children:e.fee_type})]}),Object(u.jsxs)("div",{className:"centerAddress",children:[e.address," - ",e.pincode]}),e.sessions.length>0&&e.sessions.map((function(e){return Object(u.jsxs)("div",{className:e.available_capacity?"availableBG sessionContainer":"notAvailableBG sessionContainer",children:[Object(u.jsx)("div",{className:"vaccineName",children:e.vaccine}),Object(u.jsx)("div",{className:"vaccineDate",children:e.date}),Object(u.jsxs)("div",{className:"vaccineCapacity",children:["Age limit: ",e.min_age_limit||"NA"," to ",e.max_age_limit||"NA",", Dose1: ",e.available_capacity_dose1,", Dose2: ",e.available_capacity_dose2]}),Object(u.jsx)("div",{className:"slotContainer",children:e.slots.length>0&&e.slots.map((function(e){return Object(u.jsx)("div",{className:"slotTime",children:e},e)}))})]},e.session_id)}))]},e.center_id)})):"No Centers are available for the selected district. Refresh after some time."})]})},v=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,43)).then((function(t){var c=t.getCLS,i=t.getFID,a=t.getFCP,s=t.getLCP,n=t.getTTFB;c(e),i(e),a(e),s(e),n(e)}))};n.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(m,{})}),document.getElementById("root")),v()}},[[42,1,2]]]);
//# sourceMappingURL=main.970b7e5b.chunk.js.map